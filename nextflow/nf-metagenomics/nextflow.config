process{
	executor = "slurm" // automatically uses sbatch
	clusterOptions = "-A $params.project" // define project

	withName:'FASTQC'{
		time = 30.m
		cpus = 2		
	}

	withName:'MULTIQC'{
		time = 30.m
		cpus = 1
	}

	withName:'FLASH2'{
	time = 15.m
	cpus = 2
	}

	withName:'BOWTIE2'{
	time = 30.m
	cpus = 2
	}

	withName:'KRAKEN2'{
	time = 30.m
	cpus = 2
	memory = '90 GB'
	}
	
	withName:'BRACKEN'{
	time = 30.m
	cpus = 2
	memory = '90 GB'
	}

	withName:'KRAKENTOOLS'{
	time = 30.m
	cpus = 2
	}

	withName:'CLEANKRONA'{
	time = 15.m
	cpus = 2
	}	

	withName:'KRONA'{
	time = 30.m
	cpus = 2
	}

	withName:'COMPILEKRONA'{
	time = 30.m
	cpus = 2
	}

	withName:'PREPBRACKEN'{
	time = 30.m
	cpus = 2
	}
}

resume = true
// I like to set the working directory, but you can also have it as the default, which is a directory called "work" in your current directory.
workDir = '/proj/applied_bioinformatics/users/x_vaish/MedBioinfo/nextflow/nf-metagenomics/nf-work'
singularity.enabled = true
// if singularity wasn't enabled, we would have to use conda, which is installed on tetralith
conda.enabled = true
conda.useMamba = true

